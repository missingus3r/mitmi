<%- include('../partials/header') %>

<div class="profile-setup">
  <div class="container">
    <h1>Completa tu perfil</h1>
    <p class="subtitle">Responde estas preguntas para encontrar personas compatibles</p>

    <form action="/profile/setup" method="POST" class="profile-form">

      <div class="section">
        <h2>Información Personal</h2>

        <div class="form-group">
          <label for="age">Edad *</label>
          <input type="number" id="age" name="age" required min="18" max="100">
        </div>

        <div class="form-group">
          <label for="gender">Género *</label>
          <select id="gender" name="gender" required>
            <option value="">Selecciona...</option>
            <option value="male">Masculino</option>
            <option value="female">Femenino</option>
            <option value="other">Otro</option>
          </select>
        </div>

        <div class="form-group">
          <label for="height">Altura (cm) *</label>
          <input type="number" id="height" name="height" required min="100" max="250">
        </div>

        <div class="form-group">
          <label for="bio">Sobre ti (opcional)</label>
          <textarea id="bio" name="bio" rows="3" placeholder="Cuéntanos algo sobre ti..."></textarea>
        </div>
      </div>

      <div class="section">
        <h2>Tus Preferencias</h2>

        <div class="form-group">
          <label for="prefGender">Buscas *</label>
          <select id="prefGender" name="prefGender" required>
            <option value="">Selecciona...</option>
            <option value="male">Hombres</option>
            <option value="female">Mujeres</option>
            <option value="any">Cualquiera</option>
          </select>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="prefMinAge">Edad mínima *</label>
            <input type="number" id="prefMinAge" name="prefMinAge" required min="18" max="100" value="18">
          </div>

          <div class="form-group">
            <label for="prefMaxAge">Edad máxima *</label>
            <input type="number" id="prefMaxAge" name="prefMaxAge" required min="18" max="100" value="50">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="prefMinHeight">Altura mínima (cm) *</label>
            <input type="number" id="prefMinHeight" name="prefMinHeight" required min="100" max="250" value="150">
          </div>

          <div class="form-group">
            <label for="prefMaxHeight">Altura máxima (cm) *</label>
            <input type="number" id="prefMaxHeight" name="prefMaxHeight" required min="100" max="250" value="200">
          </div>
        </div>
      </div>

      <div class="section">
        <h2>Preguntas de Intereses</h2>
        <p class="section-subtitle">Responde al menos 10 preguntas</p>

        <% questions.forEach(question => { %>
          <div class="form-group question-group">
            <label><%= question.text %> *</label>

            <% if (question.type === 'multiple') { %>
              <select name="q_<%= question.questionId %>" required>
                <option value="">Selecciona una opción...</option>
                <% question.options.forEach(option => { %>
                  <option value="<%= option %>"><%= option %></option>
                <% }); %>
              </select>
            <% } else if (question.type === 'text') { %>
              <input type="text" name="q_<%= question.questionId %>" required>
            <% } %>
          </div>
        <% }); %>
      </div>

      <button type="submit" class="btn btn-primary btn-large">Completar Perfil</button>
    </form>
  </div>
</div>

<%- include('../partials/footer') %>
